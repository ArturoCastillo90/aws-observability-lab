<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Definitions -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f5f7fa"/>
  
  <!-- AWS CloudWatch Box (Top) -->
  <rect x="240" y="40" width="320" height="100" rx="8" fill="#FF9900" filter="url(#shadow)"/>
  <rect x="240" y="40" width="320" height="35" rx="8" fill="#FF6600"/>
  <text x="400" y="65" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">AWS CloudWatch</text>
  
  <text x="260" y="100" font-family="Arial, sans-serif" font-size="14" fill="white">• Metrics (AWS/EC2)</text>
  <text x="260" y="125" font-family="Arial, sans-serif" font-size="14" fill="white">• Metrics (CWAgent)</text>
  
  <!-- CloudWatch Agent Box (Bottom Left) -->
  <rect x="80" y="380" width="260" height="140" rx="8" fill="#232F3E" filter="url(#shadow)"/>
  <rect x="80" y="380" width="260" height="35" rx="8" fill="#146EB4"/>
  <text x="210" y="405" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">CloudWatch Agent</text>
  
  <text x="100" y="440" font-family="Arial, sans-serif" font-size="13" fill="white">• CPU, RAM, Disk</text>
  <text x="100" y="465" font-family="Arial, sans-serif" font-size="13" fill="white">• Publishes to CW</text>
  <circle cx="120" cy="495" r="4" fill="#4CAF50"/>
  <text x="130" y="500" font-family="Arial, sans-serif" font-size="12" fill="#4CAF50">Running</text>
  
  <!-- Grafana Box (Bottom Right) -->
  <rect x="460" y="380" width="260" height="140" rx="8" fill="#232F3E" filter="url(#shadow)"/>
  <rect x="460" y="380" width="260" height="35" rx="8" fill="#F46800"/>
  <text x="590" y="405" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Grafana on EC2</text>
  
  <text x="480" y="440" font-family="Arial, sans-serif" font-size="13" fill="white">• CloudWatch Data Source</text>
  <text x="480" y="465" font-family="Arial, sans-serif" font-size="13" fill="white">• Dashboards</text>
  <circle cx="500" cy="495" r="4" fill="#4CAF50"/>
  <text x="510" y="500" font-family="Arial, sans-serif" font-size="12" fill="#4CAF50">Active</text>
  
  <!-- EC2 Instance Container -->
  <rect x="50" y="350" width="700" height="195" rx="10" fill="none" stroke="#146EB4" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="400" y="570" font-family="Arial, sans-serif" font-size="14" fill="#146EB4" text-anchor="middle" font-weight="bold">EC2 Instance in Public Subnet</text>
  
  <!-- Arrows -->
  <!-- CloudWatch to CloudWatch Agent -->
  <path d="M 300 140 L 210 380" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- CloudWatch to Grafana -->
  <path d="M 500 140 L 590 380" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Connection label -->
  <rect x="320" y="200" width="160" height="50" rx="5" fill="white" stroke="#666" stroke-width="1" filter="url(#shadow)"/>
  <text x="400" y="220" font-family="Arial, sans-serif" font-size="12" fill="#333" text-anchor="middle" font-weight="bold">CloudWatch API</text>
  <text x="400" y="238" font-family="Arial, sans-serif" font-size="11" fill="#666" text-anchor="middle">(IAM Role)</text>
  
  <!-- Bidirectional arrow between components -->
  <path d="M 340 450 L 460 450" stroke="#666" stroke-width="1.5" fill="none" stroke-dasharray="3,3"/>
  <circle cx="400" cy="450" r="3" fill="#666"/>
  
  <!-- AWS Logo Icon (simplified) -->
  <circle cx="400" cy="30" r="15" fill="#FF9900"/>
  <text x="400" y="37" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">AWS</text>
</svg>